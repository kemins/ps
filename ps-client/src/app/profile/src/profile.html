<div class="container-fluid profile-container">
  <form novalidate [formGroup]="profileForm">
    <div class="form-group" *ngIf="(dirtyProfile | async)?.picture">
      <div class="form-group">
        <label class="file-container">
          <img [src]="(dirtyProfile | async)?.picture" class="img-circle"
              title="change the avatar"/>
          <input type="file" ng2FileSelect [uploader]="uploader"/>
        </label>
        <!--<a href="#" (click)="$event.preventDefault();uploadPhoto()">change</a>-->
      </div>
    </div>
    <div class="form-group">
      <md-input-container>
        <input mdInput
            placeholder="Name"
            formControlName="displayName"
            name="displayName" id="displayName">
        <md-error *ngIf="!profileForm.controls.displayName.valid">
          Name is required
        </md-error>
      </md-input-container>
    </div>
    <div class="form-group">
      <md-input-container>
        <input mdInput
            placeholder="Email" type="email"
            formControlName="email">
        <md-error *ngIf="!profileForm.controls.email.valid">
          Email is invalid
        </md-error>
      </md-input-container>
    </div>

    <button md-raised-button color="primary" (click)="onSubmit()"
        [disabled]="!profileForm.valid">Save
    </button>
  </form>
</div>