<div class="container">
    <h1>Contact Form</h1>
    <form novalidate [formGroup]="contactForm">
        <div class="form-group">
            <md-input placeholder="Name"
                formControlName="name"
                [dividerColor]="contactForm.controls.name.valid || contactForm.controls.name.pristine ? 'primary' : 'accent'"
                name="name" id="name"></md-input>
        </div>
        <div [hidden]="!contactForm.controls.name.errors || contactForm.controls.name.pristine"
            class="alert alert-danger">
            Name is required
        </div>
        <div class="form-group">
            <md-input placeholder="Email" type="email"
                formControlName="email"
                [dividerColor]="contactForm.controls.email.valid || contactForm.controls.email.pristine ? 'primary' : 'accent'"></md-input>
        </div>
        <div [hidden]="contactForm.controls.email.valid || contactForm.controls.email.pristine"
            class="alert alert-danger">
            Email is invalid
        </div>
        <div class="form-group">
            <md-input placeholder="Message" type="input"
                formControlName="message"
                [dividerColor]="contactForm.controls.message.valid || contactForm.controls.message.pristine ? 'primary' : 'accent'"></md-input>
        </div>
        <div [hidden]="contactForm.controls.message.valid || contactForm.controls.message.pristine"
            class="alert alert-danger">
            Message is required
        </div>

        <div class="form-group">
            <re-captcha #captcha name="captcha" site_key="{{captchaKey}}" (captchaResponse)="handleCorrectCaptcha($event)" (captchaExpired)="handleCorrectCaptcha(null)"></re-captcha>
        </div>
        <button md-raised-button color="primary" (click)="onSubmit()" [disabled]="!contactForm.valid || !(token | async)">Send</button>
    </form>
</div>